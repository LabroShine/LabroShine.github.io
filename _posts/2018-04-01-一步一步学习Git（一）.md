---
layout: post
title: learning Git step by step (一)
date: 2018-04-01 
description: "What is Git and Why we use it"
tags: Git   
---

**写在前面的话：**
> =====================&emsp;&emsp;&emsp;&emsp;***禁止转载***&emsp;&emsp;&emsp;&emsp;=========================

> 说明：最近在学习 Git 相关的内容，刚刚起步，遇到了太多的不会，查阅了很多的资料，也阅读了许多的博客，有收获也又失落。不得不说，现在的网络太发达了，学习的资料很容易通过互联网获得，这样的情况一方面可以有利于知识的传播，同时也带来了不少的负面影响，比如，网络上的资料质量参差不齐，使得我们需要去花费更多的时间去分辨知识的真伪，浪费了太多的精力。鉴于此，我在学习的过程中将自己的学习过程一步步的记录下来，包括学习内容，查阅的相关资料，学习的思考。一方面加深自己的理解，一方面可以给自己留一份笔记，日后或许能够有用。

***注意：***

> 本系列的博客并不是教程，是个人的学习过程的记录，参考了许多网络上公开的资料，在这里感谢网上公开资料的那些作者，谢谢~~

-------

## 正文
&emsp;&emsp;本篇博文的目的对 Git 有一个大概的认识，包括：

*   什么是 Git -- What?
*   为什么要使用 Git --Why?
*   如何使用 Git --- How.(下一篇)

### 什么是 Git -- What?
&emsp;&emsp;在认识 Git 之前，我是先听说过 GitHub,它 是一个非常流行的代码托管平台，能有有效的保存我们的项目（GitHub里称为仓库），包含的内容横跨我们项目的整个生命周期，从项目诞生之初开始，直至项目结束，或者直至这个项目退出历史舞台，只要你不人为的删除这个仓库，则它会一直存在。如果说，仅仅只是保存我们整个的项目，这些简单的工作可以由很多种方式实现，比如使用存储介质保存，也可以是移动存储，显然，它的优点不仅仅局限于此。

&emsp;&emsp;随着计算机的飞速发现，人类社会对计算机的依赖性越来越大，生活中无时无刻不在受计算机的影响，从衣食住行各个方面我们都能感受到计算机给我们的生活带来的巨大变化，当然这些计算机离不开互联网，否则只是一台台电子垃圾而以。计算在各个方面的应用离不开用用程序，针对不同的方面，对程序的需求也不一样，从简单的阅读 `txt` 文件的 `notepad` 或者 `notepad++`,这些比较轻量化的软件，大到像操作系统或者像 `Matlab`那样的大型应用程序。在不同的类型，规模的软件的开发过程中，开发任务可能由单个人开发所有功能（小软件），或者由团队负责（大型软件），不管是个人还是团队协作开发，都离不开对软件的开发文件的管理。对于个人而言，对一个软件进行跟踪的话，或许并不是一件非常难的事，这要它每天结束工作时，多花一点儿时间，对今天修改或新增的文件编写一个清单，但是对于文件过多时们这样的方式貌似什么耗费精力。团队的开发过程中，对于文件修改记录的记录要比个人开发要复杂的多，并不是每个人写一个记录文件即可，因为每个人的工作都有可能影响其他人的工作，在这样的一种情况下，我们需要有一个软件或者平台能够提供这样一种服务，来帮助团队协调开发过程，追踪文件的变更，即实现版本的控制。

### 版本控制
&emsp;&emsp;什么是“版本控制”？

&emsp;&emsp;版本控制是一种记录一个或若干文件内容变化，以便将来查阅特定版本修订情况的系统。

&emsp;&emsp;如果你是位图形或网页设计师，可能会需要保存某一幅图片或页面布局文件的所有修订版本（这或许是你非常渴望拥有的功能），采用版本控制系统(version control system,VCS）是个明智的选择。 有了它你就可以将某个文件回溯到之前的状态，甚至将整个项目都回退到过去某个时间点的状态，你可以比较文件的变化细节，查出最后是谁修改了哪个地方，从而找出导致怪异问题出现的原因，又是谁在何时报告了某个功能缺陷等等。 使用版本控制系统通常还意味着，就算你乱来一气把整个项目中的文件改的改删的删，你也照样可以轻松恢复到原先的样子。 但额外增加的工作量却微乎其微。

#### 版本控制器的分类

* 本地版本控制系统:&nbsp;大多都是采用某种简单的数据库来记录文件的历次更新差异,**缺点：**整个项目的历史记录被保存在单一位置，会有丢失所有历史更新记录的风险。
![分布式](/images/posts/Blog_03_31_git/local.png)
* 集中化的版本控制系统:             &nbsp;能够有效的协调各个开发者。通常它具有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。**缺点：**是中央服务器的单点故障会导致整个提交功能工作无法进行，也就无法协同工作,降低效率。
![分布式](/images/posts/Blog_03_31_git/centralized.png)
* 分布式版本控制系统：&nbsp;相对于集中化版本控制，分布式控制系统没有绝对的中心服务器，取而代之的是每一个，每一个用户的本地仓库都可以作为服务器。此时如果发生共用的远程仓库发生丢失文件，即可用本地仓库进行恢复，因此，我们每一对远程仓库的clone(git里的命令，意指将远程仓库拷贝到本地仓库中)实际上都是一次对代码仓库的完整备份。这类代表的系统有 Git、Mercurial、Bazaar 以及 Darcs 等。
![分布式](/images/posts/Blog_03_31_git/distributed.png)

### Git 简史

&emsp;&emsp;同生活中的许多伟大事物一样，Git 诞生于一个极富纷争大举创新的年代。
&emsp;&emsp;Linux 内核开源项目有着为数众广的参与者。 绝大多数的 Linux 内核维护工作都花在了提交补丁和保存归档的繁琐事务上（1991－2002年间）。 到 2002 年，整个项目组开始启用一个专有的分布式版本控制系统 BitKeeper 来管理和维护代码。
&emsp;&emsp;到了 2005 年，开发 BitKeeper 的商业公司同 Linux 内核开源社区的合作关系结束，他们收回了 Linux 内核社区免费使用 BitKeeper 的权力。 这就迫使 Linux 开源社区（特别是 Linux 的缔造者 Linus Torvalds）基于使用 BitKeeper 时的经验教训，开发出自己的版本系统。 他们对新的系统制订了若干目标：
 1. 速度
 2. 简单的设计
 3. 对非线性开发模式的强力支持（允许成千上万个并行开发的分支）
 4. 完全分布
 5. 有能力高效管理类似 Linux 内核一样的超大规模项目（速度和数据量）

&emsp;&emsp;自诞生于 2005 年以来，Git 日臻成熟完善，在高度易用的同时，仍然保留着初期设定的目标。 它的速度飞快，极其适合管理大项目，有着令人难以置信的非线性分支管理系统。

### Git 基础

&emsp;&emsp;从前面的叙述中我们已经知道 Git 是一种分布式版本控制系统，那它的原理是什么以及究竟是如何实现这样的功能？接下来做一个简要的说明。

&emsp;&emsp;Git 就数据的与其他的分布式版本控制系统不一样， Git 是直接记录提交时文件的快照，而其它大部分系统以文件变更列表的方式存储信息，也就是将它们保存的信息看作是一组基本文件和每个文件随时间逐步累积的差异，其差异可以由下图表示：
![Git](/images/posts/Blog_03_31_git/snapshots.png)


&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;Git 保存数据的方式
![Git](/images/posts/Blog_03_31_git/deltas.png)


&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;其他分布式保存数据的方式

&emsp;&emsp;每次提交更新，或在 Git 中保存项目状态时，它主要对当时的全部文件制作一个快照并保存这个快照的索引。 为了高效，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。 Git 对待数据更像是一个 快照流。
&emsp;&emsp;这是 Git 与几乎所有其它版本控制系统的重要区别。 因此 Git 重新考虑了以前每一代版本控制系统延续下来的诸多方面。 Git 更像是一个小型的文件系统，提供了许多以此为基础构建的超强工具，而不只是一个简单的 VCS。

&emsp;&emsp;在 Git 中，我们针对文件的操作几乎都是基于本地的资源和文件，使得我们开发时不需要依赖网络的状况，在网络恶劣的情况下也能正常的对我们修改的文件仅仅保存和记录。使用其它系统，做到如此是不可能或很费力的。 比如，用 Perforce，你没有连接服务器时几乎不能做什么事；用 Subversion 和 CVS，你能修改文件，但不能向数据库提交修改（因为你的本地数据库离线了）。 这看起来不是大问题，但是你可能会惊喜地发现它带来的巨大的不同。

&emsp;&emsp;为了保证数据的完整性，Git 中所有数据在存储前都计算校验和，然后以校验和来引用。 这意味着不可能在 Git 不知情时更改任何文件内容或目录内容。 这个功能建构在 Git 底层，是构成 Git 哲学不可或缺的部分。 若你在传送过程中丢失信息或损坏文件，Git 就能发现。
&emsp;&emsp;Git 用以计算校验和的机制叫做 SHA-1 散列（hash，哈希）。 这是一个由 40 个十六进制字符（0-9 和 a-f）组成字符串，基于 Git 中文件的内容或目录结构计算出来。 SHA-1 哈希看起来是这样：
```
068d2c8af7bcc0371db1d578823144862f59a6bc
```
&emsp;&emsp;Git 中使用这种哈希值的情况很多，你将经常看到这种哈希值。 实际上，Git 数据库中保存的信息都是以文件内容的哈希值来索引，而不是文件名。

&emsp;&emsp;在 Git 中，文件有三种状态，且必处于其中之一：已提交（committed）、已修改（modified）和已暂存（staged）。 已提交表示数据已经安全的保存在本地数据库中。 已修改表示修改了文件，但还没保存到数据库中。 已暂存表示对一个已修改文件的当前版本做了标记，使之包含在下次提交的快照中。

&emsp;&emsp;由此引入 Git 项目的三个工作区域的概念：Git 仓库、工作目录以及暂存区域。

![status](/images/posts/Blog_03_31_git/areas.png)


* Git 仓库目录是 Git 用来保存项目的元数据和对象数据库的地方。 这是 Git 中最重要的部分，从其它计算机克隆仓库时，拷贝的就是这里的数据。

* 工作目录是对项目的某个版本独立提取出来的内容。 这些从 Git 仓库的压缩数据库中提取出来的文件，放在磁盘上供你使用或修改。

* 暂存区域是一个文件，保存了下次将提交的文件列表信息，一般在 Git 仓库目录中。 有时候也被称作`‘索引’'，不过一般说法还是叫暂存区域。

基本的 Git 工作流程如下：
&emsp; 1. 在工作目录中修改文件。
&emsp; 2. 暂存文件，将文件的快照放入暂存区域。
&emsp; 3. 提交更新，找到暂存区域的文件，将快照永久性存储到 Git 仓库目录。

&emsp;&emsp;如果 Git 目录中保存着的特定版本文件，就属于已提交状态。 如果作了修改并已放入暂存区域，就属于已暂存状态。 如果自上次取出后，作了修改但还没有放到暂存区域，就是已修改状态。

### 如何使用 Git 
&emsp;&emsp;虽然一开始是 Git 是源自于 Linux,但是它的使用却不仅仅局限于 Linux 系统，在主流的操作系统中几乎都能使用，这里以 Windows 上安装 Git 为例，安装包可以从[官网找到](https://git-scm.com/downloads)。Windows下是 GUI 安装模式，比较容易，等待安装完成，使用以下命令检查是否安装成功，或者直接右键观察“Git Bash”和“Git GUI”是否在右键菜单中，
```
git --version       
```
&emsp;&emsp;安装好 Git 后，接下来就是学习如何去使用 Git 了。